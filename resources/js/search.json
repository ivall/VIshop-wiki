[[{"l":"Wstęp"},{"i":"czym-jest-vishop","l":"Czym jest VIshop?","p":["Vishop to darmowy itemshop Minecraft oraz FiveM. Dzięki architekturze SaaS niepotrzebna jest dodatkowa maszyna, itemshop jest hostowany na serwerach VIshop. Dzięki rozbudowanemu community itemshopu nasz sklep posiada funkcje, których brakuje innym sklepom."]}],[{"l":"Konfiguracja IceHost"},{"i":"konfiguracja-icehost-1","l":"Konfiguracja IceHost","p":["Wchodzimy na panel IceHost. Następnie wybieramy zakladkę \" Klucze API\". Po wybraniu zakładki nazywamy klucz (np. vishop), zostawiamy puste pole \"Dopuszczone IP\". Powinno tak to wyglądać: Następnie klikamy \"Utwórz\" i wyświetli się klucz, który trzeba skopiować."]},{"l":"Konfiguracja Vishop","p":["Wchodzimy do panelu VIshop i wybieramy sklep. Wchodzimy w \"Operatorzy Płatności\" i klikamy \"Dodaj operatora płatności\". Następnie wybieramy Operatora płatności IceHost i nazywamy go (np. IceHost). Powinno tak to wyglądać Następnie w polu \"Sekret\" wpisujemy skopiowany klucz API i klikamy dodaj."]}],[{"l":"Konfiguracja Paybylink"},{"l":"Zakładanie konta","p":["Aby skorzystać z operatora Paybylink najpierw musimy założyć konto - zrobimy to tutaj. Jeżeli prowadzimy działalność nierejestrowaną to w polu NIP wpisujemy 10 zer, w REGION wpisujemy 9 zer, a w nazwie firmy\"imię nazwisko działalność nierejestrowana\". Po rejestracji musimy zweryfikować nasze konto wysyłając przelew w celu zweryfikowania podanych danych, pełne informacje znajdziesz w panelu Paybylink."]},{"l":"Dodawanie usługi","p":["Teraz pora dodać pierwszą usługę, w tym przypadku będą to przelewy i opcjonalnie PayPal, ta funkcja jest w przelewach i wystarczy podać adres e-mail naszego konta PayPal.","Przechodzimy do zakładki \"Przelewy internetowe\", wybieramy \"Sklepy\" i klikamy \"Dodaj nowy kanał\". Teraz uzupełniamy formularz.","Nazwa pola","Co wpisać","Strona internetowa","Adres naszej strony internetowej pod którą będzie prowadzona sprzedaż usług (np. sklep.superserwer123.pl)","Adres regulaminu","Link do regulaminu płatności, który będzie obowiązywał na stronie. W regulaminie muszą być takie informacje jak m.in. właściciel sklepu, informacje o zwrotach, informacje o pośredniku płatności.","Nazwa odbiorcy","Nazwa, która będzie wyświetlała się kupującym, np. superserwer123","Po dodaniu nowego sklepu należy poczekać zazwyczaj do 2-3 dni roboczych na zweryfikowanie sklepu przez obsługę Paybylink. Zweryfikowany sklep, który będzie gotowy do działania będzie posiadał plakietkę \"AKTYWNA\"."]},{"l":"Konfiguracja usługi","p":["Przechodzimy do panelu VIshop, do zakładki \"Operatorzy płatności\" i dodajemy nowego. Wybieramy Paybylink Przelewy, w polu \"Sekret\" wpisujemy Hash z usługi stworzonej w serwisie Paybylink. W \"Id serwisu\" podajemy ID naszej usługi (znajduje się pod nazwą usługi) z panelu Paybylink. Po uzupełnieniu formularzu dodawania operatora na VIshop dodajemy operatora i ustawiamy ceny produktów dla danego operatora. Jeżeli wszystko zrobiliśmy poprawnie to płatność powinna działać."]},{"l":"Paysafecard","p":["Paysafecard jest dostępny tylko i wyłącznie dla działalności zarejestrowanych - jest to odgórny wymóg firmy Paysafecard i tyczy się każdego innego operatora płatności."]}],[{"l":"Konfiguracja PayPal"},{"l":"Konfiguracja"},{"l":"Zmiana trybu z sandbox na live","p":["Pierwszym krokiem jest przejście do panelu developera PayPal i zalogowanie się. Następnie w prawym górnym rogu przełączamy suwak z Sandbox na Live i klikamy Upgrade Now(jeżeli nam wyskoczy taka opcja). Teraz zostaliśmy przekierowani na kolejną stronę, wybieramy interesującą nas opcję dot. e-mail. Teraz wybieramy opcję\"Rozszerz swoje Konto\". Teraz uzupełniamy pola tekstowe:","oficjalna nazwa firmy - jeżeli prowadzimy działalność nierejestrowaną to wpisujemy \"imię nazwisko działalność nierejestrowana\"","swój numer telefonu","uzupełniamy swój adres zamieszkania","Kontynuujemy, w rodzaj działalności wybieramy naszą działalność (w przypadku nierejestrowanej jest to \" Osoba Fizyczna\"). Teraz uzupełniamy pola odpowiednio do tego czym będziemy się zajmować i idziemy dalej. Teraz widoczne jest podsumowanie - weryfikujemy dane i przesyłamy."]},{"l":"Dodawanie operatora do VIshop","p":["Wracamy na panel developera PayPal i wybieramy zakładkę \" Apps & Credentials\". Klikamy \" Create App\", w nazwie wpisujemy np. nazwę naszego serwera, \" Type\" zostawiamy tak jak jest i klikamy \" Create App\".","Kopiujemy \" Client ID\" i wklejamy do panelu VIshop w oknie dodawania operatora PayPal w polu \" ID klienta\". Robimy to samo z\" Secret Key 1\" - kopiujemy i wklejamy do panelu VIshop w polu Sekret.","Teraz w panelu PayPal zjeżdżamy niżej i klikamy \" Add Webhook\". W polu \" Webhook URL\" wklejamy link z okna dodawania operatora PayPal z panelu VIshop, ma on w sobie słowo \" webhooks\". W \" Event Types\" zaznaczamy \" All Events\" (możemy pojedynczo powybierać potrzebne, ale tak będzie prościej ;)). Teraz nasz \" Webhook ID\" z panelu PayPal kopiujemy i wklejamy w polu \" ID webhooka\".","\uD83C\uDF89 Jeżeli poprawnie wykonałeś wszystkie kroki to płatność PayPal w Twoim itemshopie powinna działać."]}],[{"l":"Dodawanie zdjęć","p":["Zdjęcia w VIshop dodajemy z zewnętrznych źródeł, sam VIshop nie hostuje żadnych plików dodanych przez użytkowników. Link musi być bezpośrednim linkiem do zdjęcia. W tym poradniku użyjemy do tego darmowego hostingu zdjęć imgur."]},{"l":"Wgrywanie zdjęcia na imgur","p":["Przechodzimy na wyżej wspomnianą stronę imgur i klikamy przycisk \"New post\", który znajduje się lewym górnym rogu. Teraz wgrywamy nasze zdjęcie, możemy wybrać plik z komputera albo wkleić zdjęcie znajdujące się w naszym schowku poprzez kombinację klawiszy ctrl + v.","Po dodaniu zdjęcia klikamy prawym przyciskiem myszy na zdjęcie i wybieramy opcję \"Kopiuj adres obrazu\". Jeśli nasz adres zaczyna się od blob, oznacza to, że zdjęcie nie zostało jeszcze przesłane i musimy poczekać, po czym znowu spróbować skopiować adres."]},{"l":"Dodawanie zdjęcia na VIshop","p":["Przechodzimy do panelu VIshop i w polu dotyczącym zdjęcia wklejamy wcześniej skopiowany bezpośredni link do zdjęcia."]}],[{"l":"FAQ"},{"l":"Często zadawane pytania"},{"i":"ile-kosztuje-vishop","l":"Ile kosztuje VIshop?","p":["VIshop jest w pełni darmowym itemshopem. Nie pobieramy żadnych prowizji ani opłat."]},{"i":"jak-wgrać-plugin-na-serwer","l":"Jak wgrać plugin na serwer?","p":["Omawiamy to szczegółowo tutaj."]},{"i":"czy-można-przypisać-własną-domenę","l":"Czy można przypisać własną domenę?","p":["Jest to możliwe tylko dla sklepów premium, jeżeli nie posiadasz premium, możesz zrobić przekierowanie."]},{"l":"Jakich operatorów obsługuje VIshop","p":["Lista dostępnych operatorów znajduje się na stronie głównej oraz w panelu w zakładce operatorzy płatności.","Dziękujemy Patrykowi Vizauer za pomoc z integracją płatności ( ͡° ͜ʖ ͡°)"]},{"i":"czy-potrzebuję-działalność-gospodarczą-by-mieć-własny-itemshop","l":"Czy potrzebuję działalność gospodarczą, by mieć własny itemshop?","p":["Nie, wystarczy działalność nierejestrowana."]},{"i":"jak-dodać-płatności-psc-bez-działalności-gospodarczej","l":"Jak dodać płatności PSC bez działalności gospodarczej?","p":["Możesz użyć operatora IceHost lub SkillHost. W takim przypadku pieniądze idą do wirtualnego portfela, a później możemy je sprzedać innym użytkownikom."]},{"i":"dlaczego-dostaję-pieniądze-a-gracze-nie-otrzymują-zakupionych-usług","l":"Dlaczego dostaję pieniądze, a gracze nie otrzymują zakupionych usług?","p":["Powodów może być wiele, najpopularniejszymi problemami są niepoprawna konfiguracja pluginu i niepoprawne skonfigurowanie webhooka."]},{"i":"z-jakich-technologii-korzysta-vishop","l":"Z jakich technologii korzysta VIshop?","p":["HTML, CSS, JavaScript, Vue, Vuetify, Python, Django + Django Rest Framework, MySQL oraz Java (do pluginu Minecraft)"]}],[{"l":"Plugin VIshop"},{"l":"Minecraft"},{"l":"Instalacja","p":["Pobieramy najnowszą wersję pluginu z tej strony. Dokładne informacje na temat wspieranych przez plugin wersji i silników dostępne sa w ReadME pluginu, które możesz sprawdzić tutaj. Następnie dodajemy plugin na nasz serwer Minecraft. Po dodaniu pluginu na serwer należy zrestartować serwer."]},{"l":"Konfiguracja","p":["Nieskonfigurowany plugin będzie wyświetlał się na czerwono w liście pluginów. Do poprawnego działania musimy skonfigurować plugin.","W folderze plugins przechodzimy do folderu ViShopPlugin, a następnie otwieramy plik config.yml. Znajdują się tam trzy zmienne, które musimy uzupełnić.","Nazwa pola","Wymagana wartość pola","apiKey","Klucz API, który znajduje się w panelu VIshop, w zakładce ustawienia.","shopId","ID sklepu, znajdziesz je w głównej zakładce panelu VIshop.","serverId","ID serwera, znajduje się w panelu VIshop, w zakładce serwery.","Po skonfigurowaniu pluginu zapisujemy plik config.yml i restartujemy serwer.","Bardzo ważne jest, aby serwer został zrestartowany. Nie używamy do tego komendy /reload, ani innych pluginów odpowiedzialnych za \"restartowanie\" serwera."]},{"l":"Testowanie pluginu","p":["W celu przetestowania pluginu należy wygenerować voucher w sklepie i go wykorzystać. Jeżeli w produkcie, dla którego został wygenerowany voucher jest zaznaczony wymóg bycia online to gracz z podanym w realizacji vouchera nickiem musi być na serwerze. Po zrealizowaniu vouchera status transakcji zmieni się na wykonywanie, a następnie po maksymalnie 30 sekundach na wykonano. Jeżeli tak się nie stało oznacza to, że plugin VIshop nie działa poprawnie."]},{"l":"Naprawianie pluginu","p":["W przypadku, gdy plugin nie działa poprawnie to w konsoli pokazują się odpowiednie komunikaty. Komunikaty te znajdują się również w logach serwera. Należy poprawić konfigurację pluginu."]},{"l":"Itemshop w GUI","p":["Zachęcamy również do użycia pluginu VIshopGUI, który umożliwia stworzenie itemshopu w GUI. Do działania wymagane jest premium."]},{"l":"FiveM"},{"l":"Dodawanie skryptu","p":["Skrypt pobierzesz z tego miejsca. W celu dodania skryptu w folderze resources swojego serwera umieść folder vishop zawierający plik server.lua itd."]},{"l":"Konfiguracja pluginu","p":["Do poprawnego działania pluginu wymagane jest jego poprawne skonfigurowanie. W tym celu otwórz plik config.lua i uzupełnij pola według podanej w pliku instrukcji."]},{"l":"Wsparcie Steam","p":["VIshop do poprawnego działania wymaga używania Steam przez graczy. Każdy gracz musi mieć dostępny identyfikator Steam podczas wchodzenia na serwer i gry na nim.","W tym celu przejdź do pliku konfiguracyjnego swojego serwera (server.cfg) i uzupełnij pole steam_webApiKey według podanej instrukcji. Zalecane jest również użycie skryptu, który zablokuje graczy niekorzystających ze Steam."]},{"l":"Baza danych","p":["Skrypt VIshop korzysta z fivem-mysql-async. Pobierz fivem-mysql-async, a następnie utwórz folder [essential] w resources, w nim umieść folder fivem-mysql-async i zmień nazwę folderu na mysql-async.","Następnie utwórz bazę danych MySQL i uruchom w niej plik database.sql w celu stworzenia tabeli wykorzystywanej przez skrypt VIshop.","Przejdź teraz do pliku konfiguracyjnego server.cfg i dopisz do niego poniższy kod zmieniając dane do połączenie się do bazy danych."]},{"l":"Identyfikatory","p":["Skrypt VIshop udostępnia 2 identyfikatory, steam oraz license podawane w formacie z prefixem (np. steam:xxxxxxxxx). Placeholdery z identyfikatorami znajdziesz w polu z komendami w okienku dodawania produktu, tam też ich użyj."]}],[{"l":"Podpinanie domeny"},{"l":"Konfiguracja domeny w panelu VIshop","p":["W celu podpięcia domeny udaj się do ustawień sklepu, gdzie znajdziesz pole podpisane jako \"Własna domena\" i wpisz tam swoją domenę, po czym kliknij przycisk \"zapisz\".","Tylko Cloudflare umożliwia podpięcie domeny w postaci domena.pl. Inni operatorzy domen wymagają podania subdomeny np. sklep.domena.pl. Przeniesienie domeny na Cloudflare jest darmowe, proste i szybkie ale nie jest wymagane."]},{"l":"Konfiguracja domeny na Cloudflare","p":["Następnie wejdź na panel Cloudflare, wybierz swoją domenę i przejdź do sekcji DNS. Utwórz nowy rekord typu CNAME i ustaw target na vishop.pl, nazwa rekordu powinna być taka jest w panelu VIshop. Na przykład, gdy w panelu VIshop wpiszemy domena.pl to nazwą rekordu CNAME jest domena.pl.\uD83C\uDF89 Jeżeli poprawnie wykonałeś wszystkie kroki to domena zacznie działać w ciągu kilku minut."]},{"l":"Konfiguracja domeny na OVH i innych stronach"},{"l":"Tworzenie rekordu CNAME","p":["Przejdź do panelu operatora (w tym przypadku OVH), u którego posiadasz domenę i wybierz swoją domenę. Następnie przejdź do zakładki DNS (Strefa DNS). Dodaj nowy rekord typu CNAME, jego nazwa musi być taka sama jak domena podana w panelu VIshop. W tym przypadku będzie to sklep.ivsystems.pl. Jako adres docelowy (czasami zwany też celem) ustaw vishop.pl."]},{"l":"Tworzenie rekordu TXT","p":["Po utworzeniu rekordu CNAME przejdź do panelu VIshop, do zakładki ustawienia i kliknij pokaż rekordy txt. Teraz wróć do panelu operatora i utwórz nowy rekord typu TXT o nazwie otrzymanej w panelu (zwróć uwagę czy domena nie zduplikuje się). Wartość rekordu ustaw również na tą z panelu, którą otrzymałeś po kliknięciu przycisku.\uD83C\uDF89 Jeżeli poprawnie wykonałeś wszystkie kroki to domena zacznie działać w ciągu maksymalnie godziny."]}],[{"l":"Szablony","p":["VIshop w pakiecie premium oferuje szablony, czyli strony internetowe połączone z VIshop, które utrzymywane są po stronie klienta i można je w pełni edytować. Dostępne szablony znajdziesz w zakładce Szablony w panelu VIshop.","Istnieje również możliwość odpłatnego, prostego hostowania szablonów na szablony.tems.pl."]},{"l":"Konfiguracja"},{"l":"Konfiguracja szablonu","p":["Pobieramy wybrany szablon z panelu VIshop z zakładki \"Szablony\". Otwieramy plik nuxt.config.js i dostosowujemy podstawowe ustawienia pod siebie zgodnie z ich opisem."]},{"l":"Zmiana zdjęć","p":["Zdjęcia możemy podmieniać w folderze \"assets\".","W celu zmiany ikony strony przechodzimy do folderu static i podmieniamy plik o nazwie favicon.ico na swój z taką samą nazwą."]},{"l":"Instalacja szablonu","p":["Do poprawnego działania szablonu wymagana jest:","obsługa node.js w wersji do 12 - 14","serwer WWW (polecamy nginx - w tym poradniku zostanie on wykorzystany)","Szablon będzie działał na:","VPS","serwerze dedykowanym","hostingu z obsługą node.js"]},{"i":"instalacja-z-wykorzystaniem-docker-i-docker-compose-zalecana","l":"Instalacja z wykorzystaniem docker i docker-compose (zalecana)"},{"l":"Instalacja dockera","p":["Automatyczna instalacja szablonu wykorzystuje dockera. Poniższe komendy zostały przygotowane dla systemu ubuntu, ale docker będzie działał na każdym systemie. Najpierw zainstalujmy dockera, jeśli jeszcze go nie mamy - wystarczy wykonać poniższe polecenia.","curl -fsSL https://get.docker.com -o get-docker.sh","sudo sh ./get-docker.sh"]},{"l":"Wgrywanie szablonu","p":["Należy teraz przejść do pliku nginx/nginx.conf znajdującego się w naszym szablonie i ustawić domenę sklepu w wyznaczonym miejscu.","Teraz należy przejść do folderu, gdzie jest nasz szablon (tak, abyśmy mieli dostęp do plików dockera) i wpisać poniższe polecenia","docker compose up -d --build","Na serwerze musi być wolny port 80 (http), aby zadziałało to poprawnie. Jeżeli takowy jest zajęty to albo go zwolnij, albo z pliku docker-compose.yml usuń częśc odpowiedzialną za nginx i do swojego serwera WWW dodaj proxy_pass na http://localhost:3000. Możesz też przenieść obecną konfigurację nginxa do dockera - wystarczy pododawać w pliku nginx/nginx.conf","Teraz nasza aplikacja działa poprawnie. Jeżeli będziemy chcieli coś zmienić wystarczy dokonać zmian i wpisać docker stop vishop docker compose up -d --build W ten sposób nasza aplikacja zostanie zrestartowana i zmiany zostaną wgrane."]},{"i":"ręczna-instalacja-niezalecana","l":"Ręczna instalacja (niezalecana)","p":["Poniższy poradnik został zrealizowany na ubuntu 20.04."]},{"i":"instalacja-nodejs-oraz-npm","l":"Instalacja node.js oraz npm","p":["Jeżeli nie mamy zainstalowanego node.js lub npm na serwerze to musimy zainstalować. Najpierw wpisujemy polecenie apt-get update, a następnie pobieramy node oraz npm poprzez polecenia:","curl -sL https://deb.nodesource.com/setup_16.x | sudo bash - sudo apt -y install nodejs sudo apt install npm"]},{"i":"wgrywanie-szablonu-1","l":"Wgrywanie szablonu","p":["Szablon wgrywamy poprzez S-FTP/FTP na serwer, gdzie będzie on utrzymywany. Następnie używając SSH przechodzimy do jego lokalizacji ( cd /twoja/lokalizacja/szablonu). Wykonujemy npm install, a po zakończeniu uruchamiamy npm run build, następnie screen i npm run start, by wyjść z sesji screena użyjemy następującego skrótu CTRL + A + D. Nasz szablon działa teraz lokalnie na porcie 3000, pora udostępnić go światu!"]},{"l":"Konfiguracja nginx","p":["Jeżeli nie posiadamy zainstalowanego nginx to instalujemy go następującym poleceniem apt-get install nginx. Przechodzimy teraz do folderu, gdzie będzie znajdowała się nasza konfiguracja nginx używając polecenia cd /etc/nginx/sites-enabled. Wpisujemy teraz sudo nano vishop i wklejamy następującą konfigurację:","Zapisujemy i wychodzimy (ctrl+s, a później ctrl+x). Uruchamiamy nasz serwer nginx za pomocą polecenia - sudo systemctl start nginx/ bądź restartujemy jeżeli takowy serwer już działa - sudo systemctl restart nginx"]},{"l":"Uruchomienie lokalnie jako dev","p":["Wymagana jest wersja node 12 - 16. Jeżeli mamy już node w takiej wersji to wystarczy pobrać szablon, wejść do niego i wpisać npm install, a następnie npm run dev. Teraz nasz szablon jest uruchomiony w trybie dev i mamy hot reload, można teraz z łatwością edytować stronę mając podgląd na żywo.","Po zakończeniu edycji szablon instalujemy tak jak normalnie (patrz wyżej)."]}]]